<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Game of life, the Conway's cellular automaton">
    <meta name="keywords" content="Conway, Game of Life, Cellular, Automata, CFG">
    <title>Jogo da Vida</title>
    
    <link rel="icon" type="image/x-icon" href="assets/favicon.png">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
    <link rel="stylesheet" type="text/css" href="assets/css/style.css">

  </head>
  
  <body data-bs-theme="light">
    <nav class="navbar navbar-expand-lg bg-primary p-4" data-bs-theme="dark">
      <div class="container-lg">
        <a class="navbar-brand" href="#">
         <img src="assets/logo.png" alt="Logo" width="30" height="30" class="d-inline-block align-text-top">
        </a>
        <div class="collapse navbar-collapse" id="navbarText">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0 mx-auto">
            <li class="nav-item">
              <a class="nav-link" aria-current="page" href="index.html">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="jogo.html">Jogo</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="otimizacao.html">Otimização</a>
            </li>
            <li> 
              <a class="nav-link" href="sobre.html">Sobre</a>
            </li>
          </ul>

          <i id="theme-button" class="bi bi-circle-half text-light fs-4"></i>
        </div>
      </div>
    </nav>
    
    <main class="container-lg">
      <div class="row mt-5 gx-5">
        <div class="col-12 col-lg-auto order-lg-1">
          <div class="hstack justify-content-center">
            <div class="position-relative">
              <canvas id="tabuleiro"></canvas>
              <pre id="debug-log" class="position-absolute top-0 start-0 p-1 user-select-none" style="background-color: rgba(0, 0, 0, 0.5); display: none;"></pre>

              <div class="position-absolute top-0 end-0 vstack align-items-center gap-0 me-3 mt-3">
                <i id="restore-button" class="bi bi-arrow-left-circle fs-4 game-button"></i>
                <i id="zoom-in-button" class="bi bi-zoom-in fs-4 game-button"></i>
                <i id="zoom-out-button" class="bi bi-zoom-out fs-4 game-button"></i>
              </div>
  
              <div class="position-absolute bottom-0 start-0 hstack gap-1 ms-2 mb-3">
                <i id="play-pause-button" class="bi bi-play fs-4 game-button"></i>
                <i id="fast-button" class="bi bi-fast-forward fs-4 game-button"></i>
                <i id="skip-button" class="bi bi-skip-forward ms-1 fs-4 game-button"></i>
              </div>

              <div class="position-absolute bottom-0 end-0 hstack gap-1 me-3 mb-3">
                <div class="collapse collapse-horizontal hstack gap-2" id="collapse-menu">      
                  <i id="write-erase-button" class="bi bi-pencil fs-5 game-button"></i>       
                  <i id="search-button" class="bi bi-search fs-5 game-button" data-bs-toggle="modal" data-bs-target="#search-modal"></i>
                  <i id="reset-button" class="bi bi-arrow-clockwise fs-4 game-button"></i>
                  <i id="save-button" class="bi bi-download fs-4 game-button"></i>
                  <i id="debug-button" class="bi bi-bug fs-5 game-button"></i>
                  <i class="bi bi-eye fs-4 invisible"></i>
                </div>
              </div>
              <div class="position-absolute bottom-0 end-0 hstack gap-1 me-3 mb-3">
                <i id="collapse-button" class="bi bi-eye fs-4 game-button"></i>     
              </div>
            </div>
          </div>

        </div>

        <div class="col-12 col-lg order-lg-0">
            <h4>Instruções do jogo</h4>
            <p class="text-justify pe-lg-5">
              <ol class="ps-3">
                <li>Selecione <i class="bi bi-play fs-5"></i> para começar</li>
                <li>Selecione <i class="bi bi-pause fs-5"></i> para pausar</li>
                <li>Selecione <i class="bi bi-fast-forward fs-5"></i> para acelerar o jogo</li>
                <li>Selecione <i class="bi bi-skip-forward fs-5"></i> para avançar em um passo</li>
                <li>Selecione <i class="bi bi-zoom-in fs-5"></i> para ampliar</li>
                <li>Selecione <i class="bi bi-zoom-out"></i> para desampliar</li>
                <li>Selecione <i class="bi bi-arrow-clockwise fs-5"></i> para redefinir a tela</li>
                <li>Selecione <i class="bi bi-eye fs-5"></i> para para acessar mais ferramentas</li>
                <li>Selecione <i class="bi bi-download fs-5"></i> para baixar a tela atual do jogo</li>
                <li>Selecione <i class="bi bi-bug fs-5"></i> para exibir informações</li>
                <li>Selecione <i class="bi bi-search fs-5"></i> para pesquisar estruturas</li>
              </ol>
            </p>

        </div>
        
        <div class="col-12 col-lg order-lg-2">
            <h4>Instruções do Jogo tmb</h4>
            <p class="text-justify pe-lg-5">
              <ol class="pe-3" start="12">
                <li>Selecione <i class="bi bi-arrow-left-circle fs-5"></i> para voltar ao zoom inicial</li>
                <li>Selecione <i class="bi bi-eraser fs-5"></i> para apagar</li>
                <li>Selecione <i class="bi bi-pencil fs-5"></i> para desenhar</li>
              </ol>
            </p>
        </div>  
      </div>
    </main>

    <!-- Modal Bootstrap de Pesquisa -->
    <div class="modal fade" id="search-modal" tabindex="-1" aria-labelledby="searchModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="searchModalLabel">Pesquisar Padrão</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar"></button>
          </div>
          <div class="modal-body">
            <input type="text" id="search-input" class="form-control mb-3" placeholder="Digite para pesquisar...">
            <div id="search-results" style="max-height:300px; overflow-y:auto;"></div>
          </div>
        </div>
      </div>
    </div>

    <template id="search-result-template">
      <div class="card mb-2">
        <div class="hstack justify-content-between p-2">
          <h5 class="card-title text-truncate mb-1"><padrao_nome></h5>
          <button class="btn btn-primary btn-sm select-pattern-button" onclick="interface.selecionarPadrao('<padrao_arquivo>')">Selecionar</button>
        </div>
      </div>
    </template>
     
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"> </script>
    <script src="https://cdn.jsdelivr.net/npm/p5@1.11.8/lib/p5.js"></script>
    
    <script src="assets/js/tema.js"> </script>

    <script src="assets/js/automato.js"></script>
    <script src="assets/js/jogo/hashlife/utils/string.js"></script>
    <script src="assets/js/jogo/hashlife/quadtree.js"></script>
    <script src="assets/js/jogo/hashlife/hashlife.js"></script>
    <script src="assets/js/interface.js"></script>
    <script src="assets/js/script.js"></script>
  </body>
</html>
